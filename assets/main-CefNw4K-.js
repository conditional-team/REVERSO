!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();let e={connected:!1,address:null,chainId:1,selectedToken:"ETH",selectedDelay:86400,withInsurance:!1,balance:"0",transfers:[]};function t(){const t=document.getElementById("sendAmount"),n=parseFloat(null==t?void 0:t.value)||0,o=2500*n;let r;r=o<1e3?.3:o<1e5?.5:.7;const a=n*(r/100),s=e.withInsurance?.002*n:0,c=n+a+s,i=e.selectedToken;document.getElementById("feePercent").textContent=r,document.getElementById("summaryAmount").textContent=`${n.toFixed(4)} ${i}`,document.getElementById("summaryFee").textContent=`${a.toFixed(6)} ${i}`,document.getElementById("summaryInsurance").textContent=`${s.toFixed(6)} ${i}`,document.getElementById("summaryTotal").textContent=`${c.toFixed(4)} ${i}`}async function n(){var t,n,r,a,c;const i=document.getElementById("sendBtn"),l=document.getElementById("sendBtnText");if(!e.connected)return void(null==(t=document.getElementById("connectWallet"))||t.click());const d=null==(n=document.getElementById("sendAmount"))?void 0:n.value,u=null==(r=document.getElementById("recipientAddress"))?void 0:r.value;if(null==(a=document.getElementById("recovery1"))||a.value,null==(c=document.getElementById("recovery2"))||c.value,!d||parseFloat(d)<=0)s("Please enter an amount","error");else if(u&&u.match(/^0x[a-fA-F0-9]{40}$/))try{i.disabled=!0,l.innerHTML='<span class="loading-spinner"></span> Preparing Transaction...',await async function(t,n,r=!1){if(s("Preparing transaction...","info"),await function(e){return new Promise(t=>setTimeout(t,e))}(1e3),r||void 0===window.ethereum)return s("Demo: transaction simulated. No funds were moved.","success"),void o({id:Date.now(),amount:t,token:e.selectedToken,recipient:n,delay:e.selectedDelay,timestamp:Date.now(),status:"pending"});try{const r=await window.ethereum.request({method:"eth_sendTransaction",params:[{from:e.address,to:n,value:"0x"+BigInt(Math.floor(1e18*parseFloat(t))).toString(16),data:"0x"}]});s(`Transaction sent! Hash: ${r.slice(0,10)}...`,"success"),o({id:Date.now(),amount:t,token:e.selectedToken,recipient:n,delay:e.selectedDelay,timestamp:Date.now(),status:"pending",txHash:r})}catch(a){if(4001!==a.code)throw a;s("Transaction rejected by user","error")}}(d,u,true),l.textContent="Send Reversible Transaction",i.disabled=!1}catch(m){console.error("Send error:",m),s(m.message||"Transaction failed","error"),l.textContent="Send Reversible Transaction",i.disabled=!1}else s("Please enter a valid recipient address","error")}function o(t){e.transfers.unshift(t),r()}function r(){const t=document.getElementById("transfersList");t&&(0!==e.transfers.length?t.innerHTML=e.transfers.map(e=>{const t=function(e,t){const n=e+1e3*t-Date.now();if(n<=0)return"Claimable";const o=Math.floor(n/36e5),r=Math.floor(n%36e5/6e4),a=Math.floor(n%6e4/1e3);return`${String(o).padStart(2,"0")}:${String(r).padStart(2,"0")}:${String(a).padStart(2,"0")} remaining`}(e.timestamp,e.delay),n=`${e.recipient.slice(0,6)}...${e.recipient.slice(-4)}`;return`\n            <div class="transfer-item" data-id="${e.id}">\n                <div class="transfer-item-header">\n                    <span class="transfer-item-status ${e.status}">${"pending"===e.status?"‚óè Reversible":"‚úì Claimable"}</span>\n                    <span class="transfer-item-time">${t}</span>\n                </div>\n                <div class="transfer-item-amount">${e.amount} ${e.token}</div>\n                <div class="transfer-item-to">To: ${n}</div>\n                <div class="transfer-item-actions">\n                    <button class="btn btn-cancel" onclick="cancelTransfer(${e.id})">Cancel</button>\n                    <button class="btn btn-details" onclick="viewTransfer(${e.id})">Details</button>\n                </div>\n            </div>\n        `}).join(""):t.innerHTML='\n            <div class="no-transfers">\n                <span>üì≠</span>\n                <p>No active transfers</p>\n                <small>Your reversible transfers will appear here</small>\n            </div>\n        ')}function a(t,n){const o=`${n.slice(0,6)}...${n.slice(-4)}`;t.innerHTML=`\n        <span class="wallet-dot connected"></span>\n        ${o}\n    `,t.classList.add("connected"),e.connected=!0,e.address=n;const r=document.getElementById("sendBtnText");r&&(r.textContent="Send Reversible Transaction"),async function(t){if(void 0===window.ethereum)return;try{const n=await window.ethereum.request({method:"eth_getBalance",params:[t,"latest"]}),o=parseInt(n,16)/1e18;e.balance=o.toFixed(4);const r=document.getElementById("userBalance");r&&(r.textContent=e.balance)}catch(n){console.error("Balance fetch error:",n)}}(n)}function s(e,t="info"){const n=document.querySelector(".notification");n&&n.remove();const o=document.createElement("div");o.className=`notification notification-${t}`,o.innerHTML=`\n        <span class="notification-icon">${"success"===t?"‚úì":"error"===t?"‚úï":"‚Ñπ"}</span>\n        <span class="notification-message">${e}</span>\n    `,o.style.cssText=`\n        position: fixed;\n        bottom: 24px;\n        right: 24px;\n        display: flex;\n        align-items: center;\n        gap: 12px;\n        padding: 16px 24px;\n        background: ${"success"===t?"rgba(0, 255, 136, 0.1)":"error"===t?"rgba(255, 75, 75, 0.1)":"rgba(0, 212, 255, 0.1)"};\n        border: 1px solid ${"success"===t?"rgba(0, 255, 136, 0.3)":"error"===t?"rgba(255, 75, 75, 0.3)":"rgba(0, 212, 255, 0.3)"};\n        border-radius: 12px;\n        color: ${"success"===t?"#00ff88":"error"===t?"#ff4b4b":"#00d4ff"};\n        font-weight: 500;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        z-index: 9999;\n        animation: slideInRight 0.3s ease;\n    `,document.body.appendChild(o),setTimeout(()=>{o.style.animation="slideOutRight 0.3s ease forwards",setTimeout(()=>o.remove(),300)},4e3)}document.addEventListener("DOMContentLoaded",()=>{!function(){const e=document.querySelectorAll(".problem-card, .layer, .step, .tier, .api-plan, .section-header"),t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});e.forEach(e=>{e.classList.add("scroll-animate"),e.style.transitionDelay="0s",t.observe(e)})}(),function(){const e=document.getElementById("mobileToggle"),t=document.querySelector(".nav-links"),n=document.querySelector(".nav-actions");if(!e)return;e.addEventListener("click",()=>{e.classList.toggle("active");let o=document.querySelector(".mobile-menu");if(!o){o=document.createElement("div"),o.className="mobile-menu",o.innerHTML=`\n                <div class="mobile-menu-content">\n                    ${t?t.innerHTML:""}\n                    ${n?n.innerHTML:""}\n                </div>\n            `,document.querySelector(".nav").appendChild(o),o.style.cssText="\n                position: fixed;\n                top: var(--nav-height);\n                left: 0;\n                right: 0;\n                background: rgba(10, 10, 15, 0.98);\n                backdrop-filter: blur(20px);\n                padding: 24px;\n                border-bottom: 1px solid var(--border-color);\n                transform: translateY(-100%);\n                opacity: 0;\n                transition: all 0.3s ease;\n                z-index: 999;\n            ";const e=o.querySelector(".mobile-menu-content");e.style.cssText="\n                display: flex;\n                flex-direction: column;\n                gap: 16px;\n            ",e.querySelectorAll("a").forEach(e=>{e.style.cssText="\n                    color: var(--text-primary);\n                    text-decoration: none;\n                    font-size: 1.1rem;\n                    padding: 12px 0;\n                    border-bottom: 1px solid var(--border-color);\n                "})}e.classList.contains("active")?(o.style.transform="translateY(0)",o.style.opacity="1",document.body.style.overflow="hidden"):(o.style.transform="translateY(-100%)",o.style.opacity="0",document.body.style.overflow="")}),document.addEventListener("click",t=>{if(t.target.closest(".mobile-menu a")){e.classList.remove("active");const t=document.querySelector(".mobile-menu");t&&(t.style.transform="translateY(-100%)",t.style.opacity="0"),document.body.style.overflow=""}})}(),async function(){const e=document.getElementById("connectWallet");if(!e)return;if(void 0!==window.ethereum)try{const t=await window.ethereum.request({method:"eth_accounts"});t.length>0&&a(e,t[0])}catch(t){console.log("Not connected")}e.addEventListener("click",async t=>{if(t.preventDefault(),void 0===window.ethereum)return s("Please install MetaMask or another Web3 wallet","error"),void window.open("https://metamask.io/download/","_blank");try{e.innerHTML='\n                <span class="loading-spinner"></span>\n                Connecting...\n            ';const t=await window.ethereum.request({method:"eth_requestAccounts"});t.length>0&&(a(e,t[0]),s("Wallet connected successfully!","success"))}catch(n){console.error("Connection error:",n),e.innerHTML='\n                <span class="wallet-dot"></span>\n                Connect Wallet\n            ',4001===n.code?s("Connection rejected","error"):s("Failed to connect wallet","error")}}),void 0!==window.ethereum&&window.ethereum.on("accountsChanged",t=>{0===t.length?e.innerHTML='\n                    <span class="wallet-dot"></span>\n                    Connect Wallet\n                ':a(e,t[0])})}(),function(){const e=document.querySelectorAll(".stat-value, .problem-amount, .total-value, .cta-stat-value"),t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target,o=n.textContent,r=o.match(/\$?([\d.]+)([BMK])?/);if(r){const e=parseFloat(r[1]),t=r[2]||"";!function(e,t,n,o,r="",a=""){const s=performance.now(),c=e.textContent;function i(l){const d=l-s,u=Math.min(d/o,1),m=1-Math.pow(1-u,4),f=(t+(n-t)*m).toFixed(n%1!=0?1:0);e.textContent=`${r}${f}${a}`,u<1?requestAnimationFrame(i):e.textContent=c}requestAnimationFrame(i)}(n,0,e,2e3,o.includes("$")?"$":"",t)}t.unobserve(n)}})},{threshold:.5});e.forEach(e=>t.observe(e))}(),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=document.querySelector(this.getAttribute("href"));if(t){e.preventDefault();const n=document.querySelector(".nav").offsetHeight,o=t.getBoundingClientRect().top+window.pageYOffset-n-20;window.scrollTo({top:o,behavior:"smooth"})}})}),function(){const e=document.querySelector(".transfer-card");if(!e)return;const t=e.querySelector(".transfer-time");if(!t)return;let n=23,o=59,r=42;setInterval(()=>{r--,r<0&&(r=59,o--),o<0&&(o=59,n--),n<0&&(n=23,o=59,r=59),t.textContent=`${String(n).padStart(2,"0")}:${String(o).padStart(2,"0")}:${String(r).padStart(2,"0")} remaining`},1e3),e.addEventListener("mousemove",t=>{const n=e.getBoundingClientRect(),o=t.clientX-n.left,r=t.clientY-n.top,a=n.width/2,s=(r-n.height/2)/20,c=(a-o)/20;e.style.transform=`perspective(1000px) rotateX(${s}deg) rotateY(${c}deg)`}),e.addEventListener("mouseleave",()=>{e.style.transform="perspective(1000px) rotateX(0) rotateY(0)"})}(),function(){document.querySelectorAll(".network-btn").forEach(n=>{n.addEventListener("click",()=>{document.querySelectorAll(".network-btn").forEach(e=>e.classList.remove("active")),n.classList.add("active"),e.chainId=parseInt(n.dataset.chain),t()})}),document.querySelectorAll(".token-btn").forEach(n=>{n.addEventListener("click",()=>{document.querySelectorAll(".token-btn").forEach(e=>e.classList.remove("active")),n.classList.add("active"),e.selectedToken=n.dataset.token,t()})}),document.querySelectorAll(".delay-btn").forEach(t=>{t.addEventListener("click",()=>{document.querySelectorAll(".delay-btn").forEach(e=>e.classList.remove("active")),t.classList.add("active"),e.selectedDelay=parseInt(t.dataset.delay)})});const o=document.getElementById("toggleRecovery"),r=document.getElementById("recoveryInputs");o&&r&&o.addEventListener("click",()=>{const e="none"!==r.style.display;r.style.display=e?"none":"flex",o.textContent=e?"+ Add":"- Hide"});const a=document.getElementById("withInsurance"),s=document.getElementById("insuranceFeeRow");a&&a.addEventListener("change",()=>{e.withInsurance=a.checked,s&&(s.style.display=a.checked?"flex":"none"),t()});const c=document.getElementById("sendAmount");c&&c.addEventListener("input",t);const i=document.getElementById("sendBtn");i&&i.addEventListener("click",n);t()}(),function(){const e=document.querySelectorAll(".tab-btn"),t=document.querySelectorAll(".tab-content");e.forEach(n=>{n.addEventListener("click",()=>{var o;const r=n.dataset.tab;e.forEach(e=>e.classList.remove("active")),t.forEach(e=>e.classList.remove("active")),n.classList.add("active"),null==(o=document.getElementById(`tab-${r}`))||o.classList.add("active")})})}(),document.querySelectorAll("[data-copy]").forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-copy");t&&navigator.clipboard.writeText(t).then(()=>{const t=e.textContent;e.textContent="Copied",setTimeout(()=>{e.textContent=t},1500)}).catch(()=>{s("Copy failed","error")})})})}),setInterval(()=>{e.transfers.length>0&&r()},1e3),window.cancelTransfer=function(t){const n=e.transfers.find(e=>e.id===t);n&&(s(`Cancelling transfer of ${n.amount} ${n.token}...`,"info"),setTimeout(()=>{e.transfers=e.transfers.filter(e=>e.id!==t),r(),s("Transfer cancelled! Funds returned to your wallet.","success")},1500))},window.viewTransfer=function(t){const n=e.transfers.find(e=>e.id===t);var o;n&&alert(`Transfer Details:\n\nAmount: ${n.amount} ${n.token}\nTo: ${n.recipient}\nLock Period: ${o=n.delay,o<3600?o/60+" minutes":o<86400?o/3600+" hours":o/86400+" days"}\nStatus: ${n.status}\n${n.txHash?"TX: "+n.txHash:""}`)},window.copyCode=function(e){const t=e.closest(".api-code").querySelector("code").innerText;navigator.clipboard.writeText(t).then(()=>{const t=e.textContent;e.textContent="‚úì Copied!",e.style.background="var(--primary)",e.style.color="#000",setTimeout(()=>{e.textContent=t,e.style.background="",e.style.color=""},2e3)}).catch(()=>{s("Failed to copy","error")})};const c=document.createElement("style");c.textContent="\n    @keyframes slideInRight {\n        from {\n            opacity: 0;\n            transform: translateX(100px);\n        }\n        to {\n            opacity: 1;\n            transform: translateX(0);\n        }\n    }\n    \n    @keyframes slideOutRight {\n        from {\n            opacity: 1;\n            transform: translateX(0);\n        }\n        to {\n            opacity: 0;\n            transform: translateX(100px);\n        }\n    }\n    \n    .loading-spinner {\n        width: 16px;\n        height: 16px;\n        border: 2px solid transparent;\n        border-top-color: currentColor;\n        border-radius: 50%;\n        animation: spin 1s linear infinite;\n    }\n    \n    @keyframes spin {\n        to { transform: rotate(360deg); }\n    }\n",document.head.appendChild(c),window.addEventListener("scroll",()=>{const e=document.querySelector(".nav"),t=window.pageYOffset;e.style.background=t>100?"rgba(10, 10, 15, 0.95)":"rgba(10, 10, 15, 0.8)"}),document.querySelectorAll(".layer").forEach(e=>{e.addEventListener("mouseenter",()=>{const t=e.querySelector(".layer-number");t&&(t.style.transform="scale(1.1)")}),e.addEventListener("mouseleave",()=>{const t=e.querySelector(".layer-number");t&&(t.style.transform="scale(1)")})}),window.REVERSO={showNotification:s,connectWallet:()=>{var e;return null==(e=document.getElementById("connectWallet"))?void 0:e.click()}};
